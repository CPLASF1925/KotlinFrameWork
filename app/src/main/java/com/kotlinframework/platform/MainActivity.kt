package com.kotlinframework.platformimport android.os.Bundleimport android.view.Viewimport android.widget.Toastimport com.kotlinframework.platform.bean.UserBeanimport com.kotlinframework.platform.contract.LoginContractimport com.kotlinframework.platform.presenter.LoginPresenterimport com.trello.rxlifecycle2.components.support.RxAppCompatActivityimport kotlinx.android.synthetic.main.activity_main.*class MainActivity : RxAppCompatActivity(), View.OnClickListener ,LoginContract.ILoginView{    lateinit var loginPresenter:LoginPresenter    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        initView()    }    /**     * 初始化view     */    private fun initView() {        login.setOnClickListener(this)        getMovies.setOnClickListener(this)    }    /**     * 登录测试     */    fun login() {        var params= HashMap<String,String> ()        params.put("phone","18612991023")        params.put("pwd","111111")        loginPresenter= LoginPresenter()        loginPresenter.attach(this)        loginPresenter.login(params,this)    }    /**     * 获取影片列表     */    private fun getMovies() {    }    override fun success(userBean: UserBean) {        Toast.makeText(this,userBean.result.phone,Toast.LENGTH_SHORT).show()    }    override fun failure(string: String) {        Toast.makeText(this,string,Toast.LENGTH_SHORT).show()    }    override fun onDestroy() {        super.onDestroy()        loginPresenter.detach()    }    /**     * 点击事件     */    override fun onClick(v: View?) {        when (v!!.id) {            R.id.login -> login()            R.id.getMovies-> getMovies()        }    }}